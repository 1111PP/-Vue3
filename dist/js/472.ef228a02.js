"use strict";(self["webpackChunkvue3_waimai"]=self["webpackChunkvue3_waimai"]||[]).push([[472],{3094:function(){},7984:function(){},6907:function(e,t,l){l.d(t,{zx:function(){return b}});var n=l(458),a=l(6252),i=l(4719),r=l(293),o=l(8443),s=l(6846),u=l(5314),c=l(1690),d=l(294),g=l(1116);const[f,m]=(0,i["do"])("button"),p=(0,r.l7)({},c.g2,{tag:(0,o.SQ)("button"),text:String,icon:String,type:(0,o.SQ)("default"),size:(0,o.SQ)("normal"),color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,iconPrefix:String,nativeType:(0,o.SQ)("button"),loadingSize:o.Or,loadingText:String,loadingType:String,iconPosition:(0,o.SQ)("left")});var v=(0,a.aZ)({name:f,props:p,emits:["click"],setup(e,{emit:t,slots:l}){const n=(0,c.yj)(),i=()=>l.loading?l.loading():(0,a.Wm)(g.gb,{size:e.loadingSize,type:e.loadingType,class:m("loading")},null),r=()=>e.loading?i():l.icon?(0,a.Wm)("div",{class:m("icon")},[l.icon()]):e.icon?(0,a.Wm)(d.JO,{name:e.icon,class:m("icon"),classPrefix:e.iconPrefix},null):void 0,o=()=>{let t;if(t=e.loading?e.loadingText:l.default?l.default():e.text,t)return(0,a.Wm)("span",{class:m("text")},[t])},f=()=>{const{color:t,plain:l}=e;if(t){const e={color:l?t:"white"};return l||(e.background=t),t.includes("gradient")?e.border=0:e.borderColor=t,e}},p=l=>{e.loading?(0,s.PF)(l):e.disabled||(t("click",l),n())};return()=>{const{tag:t,type:l,size:n,block:i,round:s,plain:c,square:d,loading:g,disabled:v,hairline:b,nativeType:h,iconPosition:y}=e,k=[m([l,n,{plain:c,block:i,round:s,square:d,loading:g,disabled:v,hairline:b}]),{[u._K]:b}];return(0,a.Wm)(t,{type:h,class:k,style:f(),disabled:v,onClick:p},{default:()=>[(0,a.Wm)("div",{class:m("content")},["left"===y&&r(),o(),"right"===y&&r()])]})}}});const b=(0,n.n)(v)},1083:function(e,t,l){l.d(t,{ZP:function(){return f},x_:function(){return d}});var n=l(6252),a=l(4719),i=l(8443),r=l(293),o=l(1690),s=l(294);const[u,c]=(0,a["do"])("cell"),d={tag:(0,i.SQ)("div"),icon:String,size:String,title:i.Or,value:i.Or,label:i.Or,center:Boolean,isLink:Boolean,border:i.J5,required:Boolean,iconPrefix:String,valueClass:i.Vg,labelClass:i.Vg,titleClass:i.Vg,titleStyle:null,arrowDirection:String,clickable:{type:Boolean,default:null}},g=(0,r.l7)({},d,o.g2);var f=(0,n.aZ)({name:u,props:g,setup(e,{slots:t}){const l=(0,o.yj)(),a=()=>{const l=t.label||(0,r.Xq)(e.label);if(l)return(0,n.Wm)("div",{class:[c("label"),e.labelClass]},[t.label?t.label():e.label])},i=()=>{var l;if(t.title||(0,r.Xq)(e.title)){const i=null==(l=t.title)?void 0:l.call(t);if(Array.isArray(i)&&0===i.length)return;return(0,n.Wm)("div",{class:[c("title"),e.titleClass],style:e.titleStyle},[i||(0,n.Wm)("span",null,[e.title]),a()])}},u=()=>{const l=t.value||t.default,a=l||(0,r.Xq)(e.value);if(a)return(0,n.Wm)("div",{class:[c("value"),e.valueClass]},[l?l():(0,n.Wm)("span",null,[e.value])])},d=()=>t.icon?t.icon():e.icon?(0,n.Wm)(s.JO,{name:e.icon,class:c("left-icon"),classPrefix:e.iconPrefix},null):void 0,g=()=>{if(t["right-icon"])return t["right-icon"]();if(e.isLink){const t=e.arrowDirection&&"right"!==e.arrowDirection?`arrow-${e.arrowDirection}`:"arrow";return(0,n.Wm)(s.JO,{name:t,class:c("right-icon")},null)}};return()=>{var a;const{tag:r,size:o,center:s,border:f,isLink:m,required:p}=e,v=null!=(a=e.clickable)?a:m,b={center:s,required:p,clickable:v,borderless:!f};return o&&(b[o]=!!o),(0,n.Wm)(r,{class:c(b),role:v?"button":void 0,tabindex:v?0:void 0,onClick:l},{default:()=>{var e;return[d(),i(),u(),g(),null==(e=t.extra)?void 0:e.call(t)]}})}}})},5160:function(e,t,l){l.d(t,{bL:function(){return i}});var n=l(458),a=l(1083);const i=(0,n.n)(a.ZP)},5778:function(e,t,l){l.d(t,{gN:function(){return O}});var n=l(458),a=l(6252),i=l(2262),r=l(4719),o=l(8443),s=l(293),u=l(5314),c=l(2639),d=l(6846);function g(e){return Array.isArray(e)?!e.length:0!==e&&!e}function f(e,t){if(g(e)){if(t.required)return!1;if(!1===t.validateEmpty)return!0}return!(t.pattern&&!t.pattern.test(String(e)))}function m(e,t){return new Promise((l=>{const n=t.validator(e,t);(0,s.tI)(n)?n.then(l):l(n)}))}function p(e,t){const{message:l}=t;return(0,s.mf)(l)?l(e,t):l||""}function v({target:e}){e.composing=!0}function b({target:e}){e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}function h(e,t){const l=(0,d.oD)();e.style.height="auto";let n=e.scrollHeight;if((0,s.Kn)(t)){const{maxHeight:e,minHeight:l}=t;void 0!==e&&(n=Math.min(n,e)),void 0!==l&&(n=Math.max(n,l))}n&&(e.style.height=`${n}px`,(0,d.kn)(l))}function y(e){return"number"===e?{type:"text",inputmode:"decimal"}:"digit"===e?{type:"tel",inputmode:"numeric"}:{type:e}}function k(e){return[...e].length}function S(e,t){return[...e].slice(0,t).join("")}var x=l(1083),W=l(590),w=l(1114),C=l(3466),B=l(294),P=l(5160);const[q,V]=(0,r["do"])("field"),M={id:String,name:String,leftIcon:String,rightIcon:String,autofocus:Boolean,clearable:Boolean,maxlength:o.Or,formatter:Function,clearIcon:(0,o.SQ)("clear"),modelValue:(0,o.SI)(""),inputAlign:String,placeholder:String,autocomplete:String,autocapitalize:String,autocorrect:String,errorMessage:String,enterkeyhint:String,spellcheck:{type:Boolean,default:null},clearTrigger:(0,o.SQ)("focus"),formatTrigger:(0,o.SQ)("onChange"),error:{type:Boolean,default:null},disabled:{type:Boolean,default:null},readonly:{type:Boolean,default:null}},z=(0,s.l7)({},x.x_,M,{rows:o.Or,type:(0,o.SQ)("text"),rules:Array,autosize:[Boolean,Object],labelWidth:o.Or,labelClass:o.Vg,labelAlign:String,showWordLimit:Boolean,errorMessageAlign:String,colon:{type:Boolean,default:null}});var I=(0,a.aZ)({name:q,props:z,emits:["blur","focus","clear","keypress","clickInput","endValidate","startValidate","clickLeftIcon","clickRightIcon","update:modelValue"],setup(e,{emit:t,slots:l}){const n=(0,w.M)(),r=(0,i.qj)({status:"unvalidated",focused:!1,validateMessage:""}),o=(0,i.iH)(),x=(0,i.iH)(),q=(0,i.iH)(),{parent:M}=(0,W.NB)(u.WN),z=()=>{var t;return String(null!=(t=e.modelValue)?t:"")},I=t=>(0,s.Xq)(e[t])?e[t]:M&&(0,s.Xq)(M.props[t])?M.props[t]:void 0,O=(0,a.Fl)((()=>{const t=I("readonly");if(e.clearable&&!t){const t=""!==z(),l="always"===e.clearTrigger||"focus"===e.clearTrigger&&r.focused;return t&&l}return!1})),T=(0,a.Fl)((()=>q.value&&l.input?q.value():e.modelValue)),A=e=>e.reduce(((e,t)=>e.then((()=>{if("failed"===r.status)return;let{value:e}=T;if(t.formatter&&(e=t.formatter(e,t)),!f(e,t))return r.status="failed",void(r.validateMessage=p(e,t));if(t.validator){if(g(e)&&!1===t.validateEmpty)return;return m(e,t).then((l=>{l&&"string"===typeof l?(r.status="failed",r.validateMessage=l):!1===l&&(r.status="failed",r.validateMessage=p(e,t))}))}}))),Promise.resolve()),F=()=>{r.status="unvalidated",r.validateMessage=""},L=()=>t("endValidate",{status:r.status,message:r.validateMessage}),E=(l=e.rules)=>new Promise((n=>{F(),l?(t("startValidate"),A(l).then((()=>{"failed"===r.status?(n({name:e.name,message:r.validateMessage}),L()):(r.status="passed",n(),L())}))):n()})),Q=t=>{if(M&&e.rules){const{validateTrigger:l}=M.props,n=(0,s.qo)(l).includes(t),a=e.rules.filter((e=>e.trigger?(0,s.qo)(e.trigger).includes(t):n));a.length&&E(a)}},J=t=>{var l;const{maxlength:n}=e;if((0,s.Xq)(n)&&k(t)>+n){const e=z();if(e&&k(e)===+n)return e;const a=null==(l=o.value)?void 0:l.selectionEnd;if(r.focused&&a){const e=[...t],l=e.length-+n;return e.splice(a-l,l),e.join("")}return S(t,+n)}return t},X=(l,n="onChange")=>{const a=l;l=J(l);const i=k(a)-k(l);if("number"===e.type||"digit"===e.type){const t="number"===e.type;l=(0,c.uf)(l,t,t)}let u=0;if(e.formatter&&n===e.formatTrigger){const{formatter:t,maxlength:n}=e;if(l=t(l),(0,s.Xq)(n)&&k(l)>+n&&(l=S(l,+n)),o.value&&r.focused){const{selectionEnd:e}=o.value,l=S(a,e);u=k(t(l))-k(l)}}if(o.value&&o.value.value!==l)if(r.focused){let{selectionStart:e,selectionEnd:t}=o.value;if(o.value.value=l,(0,s.Xq)(e)&&(0,s.Xq)(t)){const n=k(l);i?(e-=i,t-=i):u&&(e+=u,t+=u),o.value.setSelectionRange(Math.min(e,n),Math.min(t,n))}}else o.value.value=l;l!==e.modelValue&&t("update:modelValue",l)},D=e=>{e.target.composing||X(e.target.value)},$=()=>{var e;return null==(e=o.value)?void 0:e.blur()},j=()=>{var e;return null==(e=o.value)?void 0:e.focus()},H=()=>{const t=o.value;"textarea"===e.type&&e.autosize&&t&&h(t,e.autosize)},N=e=>{r.focused=!0,t("focus",e),(0,a.Y3)(H),I("readonly")&&$()},Y=e=>{r.focused=!1,X(z(),"onBlur"),t("blur",e),I("readonly")||(Q("onBlur"),(0,a.Y3)(H),(0,d.pe)())},Z=e=>t("clickInput",e),_=e=>t("clickLeftIcon",e),R=e=>t("clickRightIcon",e),K=e=>{(0,d.PF)(e),t("update:modelValue",""),t("clear",e)},G=(0,a.Fl)((()=>"boolean"===typeof e.error?e.error:!(!M||!M.props.showError||"failed"!==r.status)||void 0)),U=(0,a.Fl)((()=>{const e=I("labelWidth"),t=I("labelAlign");if(e&&"top"!==t)return{width:(0,c.Nn)(e)}})),ee=l=>{const n=13;if(l.keyCode===n){const t=M&&M.props.submitOnEnter;t||"textarea"===e.type||(0,d.PF)(l),"search"===e.type&&$()}t("keypress",l)},te=()=>e.id||`${n}-input`,le=()=>r.status,ne=()=>{const t=V("control",[I("inputAlign"),{error:G.value,custom:!!l.input,"min-height":"textarea"===e.type&&!e.autosize}]);if(l.input)return(0,a.Wm)("div",{class:t,onClick:Z},[l.input()]);const i={id:te(),ref:o,name:e.name,rows:void 0!==e.rows?+e.rows:void 0,class:t,disabled:I("disabled"),readonly:I("readonly"),autofocus:e.autofocus,placeholder:e.placeholder,autocomplete:e.autocomplete,autocapitalize:e.autocapitalize,autocorrect:e.autocorrect,enterkeyhint:e.enterkeyhint,spellcheck:e.spellcheck,"aria-labelledby":e.label?`${n}-label`:void 0,onBlur:Y,onFocus:N,onInput:D,onClick:Z,onChange:b,onKeypress:ee,onCompositionend:b,onCompositionstart:v};return"textarea"===e.type?(0,a.Wm)("textarea",i,null):(0,a.Wm)("input",(0,a.dG)(y(e.type),i),null)},ae=()=>{const t=l["left-icon"];if(e.leftIcon||t)return(0,a.Wm)("div",{class:V("left-icon"),onClick:_},[t?t():(0,a.Wm)(B.JO,{name:e.leftIcon,classPrefix:e.iconPrefix},null)])},ie=()=>{const t=l["right-icon"];if(e.rightIcon||t)return(0,a.Wm)("div",{class:V("right-icon"),onClick:R},[t?t():(0,a.Wm)(B.JO,{name:e.rightIcon,classPrefix:e.iconPrefix},null)])},re=()=>{if(e.showWordLimit&&e.maxlength){const t=k(z());return(0,a.Wm)("div",{class:V("word-limit")},[(0,a.Wm)("span",{class:V("word-num")},[t]),(0,a.Uk)("/"),e.maxlength])}},oe=()=>{if(M&&!1===M.props.showErrorMessage)return;const t=e.errorMessage||r.validateMessage;if(t){const e=l["error-message"],n=I("errorMessageAlign");return(0,a.Wm)("div",{class:V("error-message",n)},[e?e({message:t}):t])}},se=()=>{const t=I("labelWidth"),i=I("labelAlign"),r=I("colon")?":":"";return l.label?[l.label(),r]:e.label?(0,a.Wm)("label",{id:`${n}-label`,for:l.input?void 0:te(),onClick:e=>{(0,d.PF)(e),j()},style:"top"===i&&t?{width:(0,c.Nn)(t)}:void 0},[e.label+r]):void 0},ue=()=>[(0,a.Wm)("div",{class:V("body")},[ne(),O.value&&(0,a.Wm)(B.JO,{ref:x,name:e.clearIcon,class:V("clear")},null),ie(),l.button&&(0,a.Wm)("div",{class:V("button")},[l.button()])]),re(),oe()];return(0,C.F)({blur:$,focus:j,validate:E,formValue:T,resetValidation:F,getValidationStatus:le}),(0,a.JJ)(W.F1,{customValue:q,resetValidation:F,validateWithTrigger:Q}),(0,a.YP)((()=>e.modelValue),(()=>{X(z()),F(),Q("onChange"),(0,a.Y3)(H)})),(0,a.bv)((()=>{X(z(),e.formatTrigger),(0,a.Y3)(H)})),(0,W.OR)("touchstart",K,{target:(0,a.Fl)((()=>{var e;return null==(e=x.value)?void 0:e.$el}))}),()=>{const t=I("disabled"),n=I("labelAlign"),i=ae(),r=()=>{const e=se();return"top"===n?[i,e].filter(Boolean):e||[]};return(0,a.Wm)(P.bL,{size:e.size,class:V({error:G.value,disabled:t,[`label-${n}`]:n}),center:e.center,border:e.border,isLink:e.isLink,clickable:e.clickable,titleStyle:U.value,valueClass:V("value"),titleClass:[V("label",[n,{required:e.required}]),e.labelClass],arrowDirection:e.arrowDirection},{icon:i&&"top"!==n?()=>i:null,title:r,value:ue,extra:l.extra})}}});const O=(0,n.n)(I)}}]);
//# sourceMappingURL=472.ef228a02.js.map