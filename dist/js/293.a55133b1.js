"use strict";(self["webpackChunkvue3_waimai"]=self["webpackChunkvue3_waimai"]||[]).push([[293],{8044:function(t,e,n){n.r(e),n.d(e,{default:function(){return ht}});var a=n(2056),i=n(6252),o=n(3577);const s=t=>((0,i.dD)("data-v-7cbdeed2"),t=t(),(0,i.Cn)(),t),c={class:"storeDetails"},l={class:"content"},r=s((()=>(0,i._)("div",{class:"img"},null,-1))),d={class:"foodSort"},u={class:"name"},m=["src"];function v(t,e,n,s,v,p){const g=a.Z,f=(0,i.up)("MenuList"),b=(0,i.up)("StoreFooter");return(0,i.wg)(),(0,i.iD)("div",c,[(0,i.Wm)(g,{title:"店铺"}),(0,i._)("div",l,[r,(0,i._)("div",d,[(0,i._)("div",u,[(0,i.Uk)((0,o.zw)(t.title)+" ",1),(0,i._)("img",{src:t.img,class:"store-img"},null,8,m)]),(0,i.Wm)(f,{storeData:t.storeData},null,8,["storeData"])])]),(0,i.Wm)(b,{AddCart:s.AddCart},null,8,["AddCart"])])}n(7658);var p=n(2262),g=n(9530),f=(n(6616),n(4545));n(4762);function b(t,e,n,a,o,s){const c=(0,i.up)("colList"),l=f.OK,r=g.mQ;return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.Wm)(r,{color:"#ffc400"},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.storeData,((t,e)=>((0,i.wg)(),(0,i.j4)(l,{title:t.name,key:e},{default:(0,i.w5)((()=>[(0,i.Wm)(c,{index:e,MenuItem:t.data},null,8,["index","MenuItem"])])),_:2},1032,["title"])))),128))])),_:1})])}var x=n(458),h=n(4719),I=n(8443),C=n(2639),k=n(294),A=n(590);const[W,w]=(0,h["do"])("sidebar"),y=Symbol(W),S={modelValue:(0,I.SI)(0)};var D=(0,i.aZ)({name:W,props:S,emits:["change","update:modelValue"],setup(t,{emit:e,slots:n}){const{linkChildren:a}=(0,A.$E)(y),o=()=>+t.modelValue,s=t=>{t!==o()&&(e("update:modelValue",t),e("change",t))};return a({getActive:o,setActive:s}),()=>{var t;return(0,i.Wm)("div",{role:"tablist",class:w()},[null==(t=n.default)?void 0:t.call(n)])}}});const B=(0,x.n)(D);var Z=n(293),P=n(1690),_=n(3782);const[N,O]=(0,h["do"])("sidebar-item"),F=(0,Z.l7)({},P.g2,{dot:Boolean,title:String,badge:I.Or,disabled:Boolean,badgeProps:Object});var L=(0,i.aZ)({name:N,props:F,emits:["click"],setup(t,{emit:e,slots:n}){const a=(0,P.yj)(),{parent:o,index:s}=(0,A.NB)(y);if(!o)return void 0;const c=()=>{t.disabled||(e("click",s.value),o.setActive(s.value),a())};return()=>{const{dot:e,badge:a,title:l,disabled:r}=t,d=s.value===o.getActive();return(0,i.Wm)("div",{role:"tab",class:O({select:d,disabled:r}),tabindex:r?void 0:0,"aria-selected":d,onClick:c},[(0,i.Wm)(_.Ct,(0,i.dG)({dot:e,class:O("text"),content:a},t.badgeProps),{default:()=>[n.title?n.title():l]})])}}});const j=(0,x.n)(L);const[M,E]=(0,h["do"])("tree-select"),V={max:(0,I.SI)(1/0),items:(0,I.Ce)(),height:(0,I.SI)(300),selectedIcon:(0,I.SQ)("success"),mainActiveIndex:(0,I.SI)(0),activeId:{type:[Number,String,Array],default:0}};var J=(0,i.aZ)({name:M,props:V,emits:["clickNav","clickItem","update:activeId","update:mainActiveIndex"],setup(t,{emit:e,slots:n}){const a=e=>Array.isArray(t.activeId)?t.activeId.includes(e):t.activeId===e,o=n=>{const o=()=>{if(n.disabled)return;let a;if(Array.isArray(t.activeId)){a=t.activeId.slice();const e=a.indexOf(n.id);-1!==e?a.splice(e,1):a.length<+t.max&&a.push(n.id)}else a=n.id;e("update:activeId",a),e("clickItem",n)};return(0,i.Wm)("div",{key:n.id,class:["van-ellipsis",E("item",{active:a(n.id),disabled:n.disabled})],onClick:o},[n.text,a(n.id)&&(0,i.Wm)(k.JO,{name:t.selectedIcon,class:E("selected")},null)])},s=t=>{e("update:mainActiveIndex",t)},c=t=>e("clickNav",t),l=()=>{const e=t.items.map((t=>(0,i.Wm)(j,{dot:t.dot,badge:t.badge,class:[E("nav-item"),t.className],disabled:t.disabled,onClick:c},{title:()=>n["nav-text"]?n["nav-text"](t):t.text})));return(0,i.Wm)(B,{class:E("nav"),modelValue:t.mainActiveIndex,onChange:s},{default:()=>[e]})},r=()=>{if(n.content)return n.content();const e=t.items[+t.mainActiveIndex]||{};return e.children?e.children.map(o):void 0};return()=>(0,i.Wm)("div",{class:E(),style:{height:(0,C.Nn)(t.height)}},[l(),(0,i.Wm)("div",{class:E("content")},[r()])])}});const K=(0,x.n)(J);n(1958),n(368),n(6742);var z=n(5042);const H={key:0,class:"food-list"},G={class:"item-bg"},R={key:1};function q(t,e,n,a,s,c){const l=z.Z,r=K;return 0===n.index?((0,i.wg)(),(0,i.iD)("div",H,[(0,i.Wm)(r,{"main-active-index":t.activeIndex,"onUpdate:mainActiveIndex":e[0]||(e[0]=e=>t.activeIndex=e),height:"88vw",items:t.items,onClickNav:a.navClick},{content:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.subItem,((t,e)=>((0,i.wg)(),(0,i.iD)("div",G,[(0,i.Wm)(l,{item:t,showChecked:!1},null,8,["item"])])))),256))])),_:1},8,["main-active-index","items","onClickNav"])])):((0,i.wg)(),(0,i.iD)("div",R,(0,o.zw)(n.MenuItem.content),1))}var Q={name:"MenuItem",components:{singleFood:z.Z},props:["MenuItem","index"],setup(t){let e=(0,p.qj)({activeIndex:0,items:[],subItem:[]});const n=()=>{let n=[];t.MenuItem?.items?.forEach(((t,a)=>{n.push({text:t.text}),e.activeIndex===a&&(e.subItem=t.children)})),e.items=n},a=t=>{e.activeIndex=t,n()};return n(),{...(0,p.BK)(e),navClick:a}}},U=n(3744);const Y=(0,U.Z)(Q,[["render",q]]);var $=Y,T={name:"MenuList",components:{colList:$},props:["storeData"]};const X=(0,U.Z)(T,[["render",b]]);var tt=X,et=n(4798),nt=(n(2042),n(4398)),at=(n(2939),n(1452),n(2191),n(2551));const[it,ot]=(0,h["do"])("action-bar-icon"),st=(0,Z.l7)({},P.g2,{dot:Boolean,text:String,icon:String,color:String,badge:I.Or,iconClass:I.Vg,badgeProps:Object,iconPrefix:String});var ct=(0,i.aZ)({name:it,props:st,setup(t,{slots:e}){const n=(0,P.yj)();(0,A.NB)(at.FO);const a=()=>{const{dot:n,badge:a,icon:o,color:s,iconClass:c,badgeProps:l,iconPrefix:r}=t;return e.icon?(0,i.Wm)(_.Ct,(0,i.dG)({dot:n,class:ot("icon"),content:a},l),{default:e.icon}):(0,i.Wm)(k.JO,{tag:"div",dot:n,name:o,badge:a,color:s,class:[ot("icon"),c],badgeProps:l,classPrefix:r},null)};return()=>(0,i.Wm)("div",{role:"button",class:ot(),tabindex:0,onClick:n},[a(),e.default?e.default():t.text])}});const lt=(0,x.n)(ct);function rt(t,e,n,a,o,s){const c=lt,l=nt.ZL,r=et.ol;return(0,i.wg)(),(0,i.j4)(r,null,{default:(0,i.w5)((()=>[(0,i.Wm)(c,{icon:"chat-o",text:"客服",dot:""}),(0,i.Wm)(c,{icon:"cart-o",text:"购物车",badge:a.countNum,onClick:a.goCart},null,8,["badge","onClick"]),(0,i.Wm)(l,{type:"warning",text:"加入购物车",onClick:n.AddCart},null,8,["onClick"]),(0,i.Wm)(l,{type:"danger",text:"去结算",onClick:a.toBuyPage},null,8,["onClick"])])),_:1})}var dt=n(3907),ut=n(2201),mt=n(781),vt={name:"StoreCart",props:["AddCart"],setup(t){const e=(0,ut.tv)(),n=(0,dt.oR)(),a=(0,i.Fl)((()=>n.state.cartList.reduce(((t,e)=>t+e.num),0))),o=()=>{0!==n.state.cartList.length?e.push("/cart"):(0,mt.CF)("请选择商品")},s=()=>{o()};return{store:n,countNum:a,goCart:o,toBuyPage:s}}};const pt=(0,U.Z)(vt,[["render",rt]]);var gt=pt,ft=n(3885),bt={name:"store",components:{Header:a.Z,MenuList:tt,StoreFooter:gt},mounted(){},setup(){const t=(0,dt.oR)();let e=(0,p.qj)({title:"鱼拿酸菜鱼",img:"https://img1.baidu.com/it/u=1599947592,1695977044&fm=253&fmt=auto&app=138&f=JPEG?w=640&h=440",storeData:[]});const n=()=>{const n=t.state.cartList||[];e.storeData.forEach((t=>{t.data.items?.forEach((t=>{t.children.forEach((t=>{t.num>0&&n.push(t)}))}))})),t.commit("ADDCART",n)},a=()=>{(0,ft.O)().then((t=>{e.storeData=t}))};return(0,i.bv)((()=>{a()})),{store:t,...(0,p.BK)(e),AddCart:n}}};const xt=(0,U.Z)(bt,[["render",v],["__scopeId","data-v-7cbdeed2"]]);var ht=xt},4398:function(t,e,n){n.d(e,{ZL:function(){return f}});var a=n(458),i=n(6252),o=n(4719),s=n(293),c=n(2551),l=n(590),r=n(3466),d=n(1690),u=n(6907);const[m,v]=(0,o["do"])("action-bar-button"),p=(0,s.l7)({},d.g2,{type:String,text:String,icon:String,color:String,loading:Boolean,disabled:Boolean});var g=(0,i.aZ)({name:m,props:p,setup(t,{slots:e}){const n=(0,d.yj)(),{parent:a,index:o}=(0,l.NB)(c.FO),s=(0,i.Fl)((()=>{if(a){const t=a.children[o.value-1];return!(t&&"isButton"in t)}})),m=(0,i.Fl)((()=>{if(a){const t=a.children[o.value+1];return!(t&&"isButton"in t)}}));return(0,r.F)({isButton:!0}),()=>{const{type:a,icon:o,text:c,color:l,loading:r,disabled:d}=t;return(0,i.Wm)(u.zx,{class:v([a,{last:m.value,first:s.value}]),size:"large",type:a,icon:o,color:l,loading:r,disabled:d,onClick:n},{default:()=>[e.default?e.default():c]})}}});const f=(0,a.n)(g)},2551:function(t,e,n){n.d(e,{FO:function(){return u},ZP:function(){return v}});var a=n(6252),i=n(2262),o=n(4719),s=n(8443),c=n(590),l=n(9018);const[r,d]=(0,o["do"])("action-bar"),u=Symbol(r),m={placeholder:Boolean,safeAreaInsetBottom:s.J5};var v=(0,a.aZ)({name:r,props:m,setup(t,{slots:e}){const n=(0,i.iH)(),o=(0,l.J)(n,d),{linkChildren:s}=(0,c.$E)(u);s();const r=()=>{var i;return(0,a.Wm)("div",{ref:n,class:[d(),{"van-safe-area-bottom":t.safeAreaInsetBottom}]},[null==(i=e.default)?void 0:i.call(e)])};return()=>t.placeholder?o(r):r()}})},4798:function(t,e,n){n.d(e,{ol:function(){return o}});var a=n(458),i=n(2551);const o=(0,a.n)(i.ZP)}}]);
//# sourceMappingURL=293.a55133b1.js.map